{
	"$schema": "node_modules/wrangler/config-schema.json",
	"name": "cloudsync",
	"main": "src/index.ts",
	"compatibility_flags": [
		"nodejs_compat",
	],
	"compatibility_date": "2026-01-31",
	"rules": [
		{
			"type": "CompiledWasm",
			"globs": ["**/*.wasm"],
			"fallthrough": true,
		},
		{
			"type": "Text",
			"globs": ["**/*.svg"],
			"fallthrough": true,
		},
	],
	"define": {
		"IS_PRODUCTION": "false",
	},
	// Ratelimit of max 20 requests/10s per user (production)
	"ratelimits": [
		{
			"name": "USER_RATELIMIT",
			"namespace_id": "1001",
			"simple": {
				"limit": 20,
				"period": 10,
			},
		},
	],
	"d1_databases": [
		{
			"binding": "DB",
			"database_name": "VendettaCloudSync",
			"database_id": "61cfcfdb-1845-4be8-9fd6-c4bdee4fa4c7",
		},
	],
	"observability": {
		"enabled": true,
	},
	"triggers": {
		"crons": [
			// the silly service
			"0 2 * * *",
		],
	},
}
